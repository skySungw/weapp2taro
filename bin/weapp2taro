#!/usr/bin/env node
const path = require('path');
const figlet = require('figlet');
// 读package.json信息
const packageInfo = require(path.resolve(__dirname, '..', 'package.json'));
const versionTip = figlet.textSync(packageInfo.name);
// console.log(versionTip);
// commonder提示信息
const { program } = require('commander');
// \n${versionTip}
program.version(`${packageInfo.version}`, "-v,--version");
program.option('-a, --analise', '分析js中未被wxml引用的方法');
program.option('-c, --convert', '解析指定目录下wxml以及js文件，转成taro');

const getCmd = require(path.resolve(__dirname, '..', 'config', 'cmd.config.js'));
// 接收指令
program.usage("<cmd> [env]")
  .arguments("<cmd> [env]")
  .action((cmd, p1, p2) => {
    getCmd(cmd, p1, p2);
  })


// 解析用户输入命令
program.parse(process.argv);
